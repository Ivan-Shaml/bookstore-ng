<div class="most-popular">
  <div class="row">
    <div class="col-lg-12">
      <div class="heading-section">
        @if (gridTitle) {
          <h4 class="d-inline-block">{{ gridTitle }}</h4>
        } @else {
          <h4 class="d-inline-block"><em>Всички</em> продукти</h4>
        }
        @if (isAdmin()) {
          <a class="bnt btn-success text-success float-end fw-bolder" [routerLink]="['/books','']"><i
            class="fa fa-plus"></i>
            Създай</a>
        }
      </div>
      <div class="row">
        @for (book of resultList; track book.id) {
          <div class="col-lg-3 col-sm-6">
            <div class="item">
              <div class="thumb">
                @if (isAdmin()) {
                  <a class="text-danger float-start mb-2 fw-bold" (click)="deleteBook($event, book.id)" [href]="null"><i
                    class="fa fa-trash"></i>
                    Изтрий</a>
                  <a class="text-warning float-end mb-2 fw-bold" [routerLink]="['/books', book.id]"><i
                    class="fa fa-edit"></i>
                    Редактирай</a>
                }
                <a [routerLink]="['/books', book.id, 'details']"><img [src]="book.imageUrl" alt="{{book.title}}"></a>
                <h4><a [routerLink]="['/books', book.id, 'details']">{{ book.title }}</a></h4>
                <br><span>{{ book.category?.name }}</span>
                <span>{{ book.yearOfPublishing }}</span>
                <ul class="d-inline-flex gap-sm-1 mt-0">
                  <li>
                    <i>{{ book.rating || 0 }} </i> <i class="fa fa-star"></i>
                  </li>
                  @if (isLoggedIn()) {
                    <li><a class="download-button" (click)="downloadBook($event, book.id)" [href]="null">
                      Свали <i class="fa fa-download"></i></a></li>
                  }
                </ul>
              </div>
            </div>
          </div>
        }
      </div>
    </div>
  </div>
</div>
